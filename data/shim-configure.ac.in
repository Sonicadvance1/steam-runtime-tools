# vim:set ft=m4:
# Processed by capsule-init-project. Everything before the first blank
# line is removed during processing.

AC_INIT([@LCBASE@-proxy], [@VER@])
AC_CONFIG_MACRO_DIR([m4])

dnl basename of the main library we are proxying for:
AC_SUBST([LIB],[@LIB@])
AC_SUBST([MAJ],[@MAJ@])

dnl don't kvetch about gnu makefile syntax
dnl and don't require ChangeLog &co if they don't exist
AM_INIT_AUTOMAKE([-Wno-portability foreign])
AM_SILENT_RULES([yes])
LT_INIT

PKG_CHECK_MODULES([CAPSULE], [capsule])
PKG_CHECK_VAR([CAPSULE_MKINC], [capsule], [makeinc])
PKG_CHECK_VAR([CAPSULE_MKSTUBLIB_TOOL], [capsule], [CAPSULE_MKSTUBLIB_TOOL])
PKG_CHECK_VAR([CAPSULE_SYMBOLS_TOOL], [capsule], [CAPSULE_SYMBOLS_TOOL])

AC_CONFIG_FILES([capsule-shim.mk:$CAPSULE_MKINC/capsule-shim.mk.in Makefile])
AC_OUTPUT()
